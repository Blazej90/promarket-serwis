"use strict";(()=>{var e={};e.id=719,e.ids=[719],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},945:(e,a,s)=>{s.r(a),s.d(a,{config:()=>l,default:()=>d,routeModule:()=>u});var o={};s.r(o),s.d(o,{default:()=>sendEmail});var t=s(802),i=s(44),r=s(249);let n=require("nodemailer");async function sendEmail(e,a){if("POST"!==e.method)return a.status(405).json({message:"Metoda niedozwolona"});{let{name:s,email:o,message:t}=e.body;if(!s||!o||!t)return a.status(400).json({message:"Wszystkie pola są wymagane"});let i=n.createTransport({service:"gmail",auth:{user:process.env.EMAIL_MAIN,pass:process.env.EMAIL_PASS}}),r={from:o,to:process.env.EMAIL_MAIN,subject:`Nowa wiadomość od ${s}`,text:`Od: ${s}
Email: ${o}

Wiadomość:
${t}`};try{return await i.sendMail(r),a.status(200).json({message:"Wiadomość wysłana pomyślnie"})}catch(e){return console.error("Błąd podczas wysyłania wiadomości:",e),a.status(500).json({message:"Wystąpił błąd podczas wysyłania wiadomości"})}}}let d=(0,r.l)(o,"default"),l=(0,r.l)(o,"config"),u=new t.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/sendEmail",pathname:"/api/sendEmail",bundlePath:"",filename:""},userland:o})}};var a=require("../../webpack-api-runtime.js");a.C(e);var __webpack_exec__=e=>a(a.s=e),s=a.X(0,[222],()=>__webpack_exec__(945));module.exports=s})();