"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/sendEmail";
exports.ids = ["pages/api/sendEmail"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "nodemailer":
/*!*****************************!*\
  !*** external "nodemailer" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("nodemailer");

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("formidable");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsendEmail&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5CsendEmail.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsendEmail&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5CsendEmail.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_sendEmail_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\sendEmail.js */ \"(api)/./src/pages/api/sendEmail.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_sendEmail_js__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_sendEmail_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_sendEmail_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_sendEmail_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/sendEmail\",\n        pathname: \"/api/sendEmail\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_sendEmail_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnNlbmRFbWFpbCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyU1Q3BhZ2VzJTVDYXBpJTVDc2VuZEVtYWlsLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzREO0FBQzVEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvbWFya2V0LXNlcndpcy8/NTA5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFxzZW5kRW1haWwuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9zZW5kRW1haWxcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9zZW5kRW1haWxcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsendEmail&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5CsendEmail.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/pages/api/sendEmail.js":
/*!************************************!*\
  !*** ./src/pages/api/sendEmail.js ***!
  \************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ sendEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"nodemailer\");\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([formidable__WEBPACK_IMPORTED_MODULE_1__]);\nformidable__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// import nodemailer from \"nodemailer\";\n// export default async function sendEmail(req, res) {\n//   if (req.method === \"POST\") {\n//     const { name, email, message } = req.body;\n//     if (!name || !email || !message) {\n//       return res.status(400).json({ message: \"Wszystkie pola są wymagane\" });\n//     }\n//     const transporter = nodemailer.createTransport({\n//       service: \"gmail\",\n//       auth: {\n//         user: process.env.EMAIL_MAIN,\n//         pass: process.env.EMAIL_PASS,\n//       },\n//     });\n//     const mailOptions = {\n//       from: email,\n//       to: process.env.EMAIL_MAIN,\n//       subject: `Nowa wiadomość od ${name}`,\n//       text: `Od: ${name}\\nEmail: ${email}\\n\\nWiadomość:\\n${message}`,\n//     };\n//     try {\n//       await transporter.sendMail(mailOptions);\n//       return res.status(200).json({ message: \"Wiadomość wysłana pomyślnie\" });\n//     } catch (error) {\n//       console.error(\"Błąd podczas wysyłania wiadomości:\", error);\n//       return res\n//         .status(500)\n//         .json({ message: \"Wystąpił błąd podczas wysyłania wiadomości\" });\n//     }\n//   } else {\n//     return res.status(405).json({ message: \"Metoda niedozwolona\" });\n//   }\n// }\n\n\n\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nasync function sendEmail(req, res) {\n    if (req.method === \"POST\") {\n        const form = (0,formidable__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        form.parse(req, async (err, fields, files)=>{\n            if (err) {\n                console.error(\"Błąd podczas parsowania formularza:\", err);\n                return res.status(500).json({\n                    message: \"Błąd serwera\"\n                });\n            }\n            const { name, email, message } = fields;\n            if (!name || !email || !message) {\n                return res.status(400).json({\n                    message: \"Wszystkie pola są wymagane\"\n                });\n            }\n            // Przygotowanie załączników\n            const attachments = [];\n            if (files.attachments) {\n                const uploadedFiles = Array.isArray(files.attachments) ? files.attachments : [\n                    files.attachments\n                ];\n                uploadedFiles.forEach((file)=>{\n                    attachments.push({\n                        filename: file.originalFilename,\n                        path: file.filepath\n                    });\n                });\n            }\n            const transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n                service: \"gmail\",\n                auth: {\n                    user: process.env.EMAIL_MAIN,\n                    pass: process.env.EMAIL_PASS\n                }\n            });\n            const mailOptions = {\n                from: email,\n                to: process.env.EMAIL_MAIN,\n                subject: `Nowa wiadomość od ${name}`,\n                text: `Od: ${name}\\nEmail: ${email}\\n\\nWiadomość:\\n${message}`,\n                attachments: attachments\n            };\n            try {\n                await transporter.sendMail(mailOptions);\n                return res.status(200).json({\n                    message: \"Wiadomość wysłana pomyślnie\"\n                });\n            } catch (error) {\n                console.error(\"Błąd podczas wysyłania wiadomości:\", error);\n                return res.status(500).json({\n                    message: \"Wystąpił błąd podczas wysyłania wiadomości\"\n                });\n            } finally{\n                // Usuń pliki tymczasowe po wysłaniu wiadomości\n                attachments.forEach((attachment)=>{\n                    fs__WEBPACK_IMPORTED_MODULE_2__.unlink(attachment.path, (err)=>{\n                        if (err) console.error(\"Błąd podczas usuwania pliku:\", err);\n                    });\n                });\n            }\n        });\n    } else {\n        return res.status(405).json({\n            message: \"Metoda niedozwolona\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QztvQkFBRUMsU0FBUztnQkFBNkM7WUFDbEUsU0FBVTtnQkFDUiwrQ0FBK0M7Z0JBQy9DRyxZQUFZSSxPQUFPLENBQUMsQ0FBQ3VCO29CQUNuQi9DLHNDQUFTLENBQUMrQyxXQUFXbEIsSUFBSSxFQUFFLENBQUNuQjt3QkFDMUIsSUFBSUEsS0FBS0csUUFBUUMsS0FBSyxDQUFDLGdDQUFnQ0o7b0JBQ3pEO2dCQUNGO1lBQ0Y7UUFDRjtJQUNGLE9BQU87UUFDTCxPQUFPSixJQUFJUyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLFNBQVM7UUFBc0I7SUFDL0Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb21hcmtldC1zZXJ3aXMvLi9zcmMvcGFnZXMvYXBpL3NlbmRFbWFpbC5qcz82MGMwIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCBub2RlbWFpbGVyIGZyb20gXCJub2RlbWFpbGVyXCI7XHJcblxyXG4vLyBleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBzZW5kRW1haWwocmVxLCByZXMpIHtcclxuLy8gICBpZiAocmVxLm1ldGhvZCA9PT0gXCJQT1NUXCIpIHtcclxuLy8gICAgIGNvbnN0IHsgbmFtZSwgZW1haWwsIG1lc3NhZ2UgfSA9IHJlcS5ib2R5O1xyXG5cclxuLy8gICAgIGlmICghbmFtZSB8fCAhZW1haWwgfHwgIW1lc3NhZ2UpIHtcclxuLy8gICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogXCJXc3p5c3RraWUgcG9sYSBzxIUgd3ltYWdhbmVcIiB9KTtcclxuLy8gICAgIH1cclxuXHJcbi8vICAgICBjb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcclxuLy8gICAgICAgc2VydmljZTogXCJnbWFpbFwiLFxyXG4vLyAgICAgICBhdXRoOiB7XHJcbi8vICAgICAgICAgdXNlcjogcHJvY2Vzcy5lbnYuRU1BSUxfTUFJTixcclxuLy8gICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5FTUFJTF9QQVNTLFxyXG4vLyAgICAgICB9LFxyXG4vLyAgICAgfSk7XHJcblxyXG4vLyAgICAgY29uc3QgbWFpbE9wdGlvbnMgPSB7XHJcbi8vICAgICAgIGZyb206IGVtYWlsLFxyXG4vLyAgICAgICB0bzogcHJvY2Vzcy5lbnYuRU1BSUxfTUFJTixcclxuLy8gICAgICAgc3ViamVjdDogYE5vd2Egd2lhZG9tb8WbxIcgb2QgJHtuYW1lfWAsXHJcbi8vICAgICAgIHRleHQ6IGBPZDogJHtuYW1lfVxcbkVtYWlsOiAke2VtYWlsfVxcblxcbldpYWRvbW/Fm8SHOlxcbiR7bWVzc2FnZX1gLFxyXG4vLyAgICAgfTtcclxuXHJcbi8vICAgICB0cnkge1xyXG4vLyAgICAgICBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbChtYWlsT3B0aW9ucyk7XHJcbi8vICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1lc3NhZ2U6IFwiV2lhZG9tb8WbxIcgd3lzxYJhbmEgcG9tecWbbG5pZVwiIH0pO1xyXG4vLyAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuLy8gICAgICAgY29uc29sZS5lcnJvcihcIkLFgsSFZCBwb2RjemFzIHd5c3nFgmFuaWEgd2lhZG9tb8WbY2k6XCIsIGVycm9yKTtcclxuLy8gICAgICAgcmV0dXJuIHJlc1xyXG4vLyAgICAgICAgIC5zdGF0dXMoNTAwKVxyXG4vLyAgICAgICAgIC5qc29uKHsgbWVzc2FnZTogXCJXeXN0xIVwacWCIGLFgsSFZCBwb2RjemFzIHd5c3nFgmFuaWEgd2lhZG9tb8WbY2lcIiB9KTtcclxuLy8gICAgIH1cclxuLy8gICB9IGVsc2Uge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogXCJNZXRvZGEgbmllZG96d29sb25hXCIgfSk7XHJcbi8vICAgfVxyXG4vLyB9XHJcblxyXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tIFwibm9kZW1haWxlclwiO1xyXG5pbXBvcnQgZm9ybWlkYWJsZSBmcm9tIFwiZm9ybWlkYWJsZVwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIGFwaToge1xyXG4gICAgYm9keVBhcnNlcjogZmFsc2UsIC8vIFd5xYLEhWN6IGRvbXnFm2xueSBib2R5UGFyc2VyLCBhYnkgdcW8ecSHIGZvcm1pZGFibGVcclxuICB9LFxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHJlcSwgcmVzKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiUE9TVFwiKSB7XHJcbiAgICBjb25zdCBmb3JtID0gZm9ybWlkYWJsZSgpO1xyXG5cclxuICAgIGZvcm0ucGFyc2UocmVxLCBhc3luYyAoZXJyLCBmaWVsZHMsIGZpbGVzKSA9PiB7XHJcbiAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQsWCxIVkIHBvZGN6YXMgcGFyc293YW5pYSBmb3JtdWxhcnphOlwiLCBlcnIpO1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6IFwiQsWCxIVkIHNlcndlcmFcIiB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgbWVzc2FnZSB9ID0gZmllbGRzO1xyXG5cclxuICAgICAgaWYgKCFuYW1lIHx8ICFlbWFpbCB8fCAhbWVzc2FnZSkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IFwiV3N6eXN0a2llIHBvbGEgc8SFIHd5bWFnYW5lXCIgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFByenlnb3Rvd2FuaWUgemHFgsSFY3puaWvDs3dcclxuICAgICAgY29uc3QgYXR0YWNobWVudHMgPSBbXTtcclxuICAgICAgaWYgKGZpbGVzLmF0dGFjaG1lbnRzKSB7XHJcbiAgICAgICAgY29uc3QgdXBsb2FkZWRGaWxlcyA9IEFycmF5LmlzQXJyYXkoZmlsZXMuYXR0YWNobWVudHMpXHJcbiAgICAgICAgICA/IGZpbGVzLmF0dGFjaG1lbnRzXHJcbiAgICAgICAgICA6IFtmaWxlcy5hdHRhY2htZW50c107XHJcblxyXG4gICAgICAgIHVwbG9hZGVkRmlsZXMuZm9yRWFjaCgoZmlsZSkgPT4ge1xyXG4gICAgICAgICAgYXR0YWNobWVudHMucHVzaCh7XHJcbiAgICAgICAgICAgIGZpbGVuYW1lOiBmaWxlLm9yaWdpbmFsRmlsZW5hbWUsXHJcbiAgICAgICAgICAgIHBhdGg6IGZpbGUuZmlsZXBhdGgsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydCh7XHJcbiAgICAgICAgc2VydmljZTogXCJnbWFpbFwiLFxyXG4gICAgICAgIGF1dGg6IHtcclxuICAgICAgICAgIHVzZXI6IHByb2Nlc3MuZW52LkVNQUlMX01BSU4sXHJcbiAgICAgICAgICBwYXNzOiBwcm9jZXNzLmVudi5FTUFJTF9QQVNTLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgY29uc3QgbWFpbE9wdGlvbnMgPSB7XHJcbiAgICAgICAgZnJvbTogZW1haWwsXHJcbiAgICAgICAgdG86IHByb2Nlc3MuZW52LkVNQUlMX01BSU4sXHJcbiAgICAgICAgc3ViamVjdDogYE5vd2Egd2lhZG9tb8WbxIcgb2QgJHtuYW1lfWAsXHJcbiAgICAgICAgdGV4dDogYE9kOiAke25hbWV9XFxuRW1haWw6ICR7ZW1haWx9XFxuXFxuV2lhZG9tb8WbxIc6XFxuJHttZXNzYWdlfWAsXHJcbiAgICAgICAgYXR0YWNobWVudHM6IGF0dGFjaG1lbnRzLCAvLyBEb2RhbmllIHphxYLEhWN6bmlrw7N3IGRvIG1haWxhXHJcbiAgICAgIH07XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKG1haWxPcHRpb25zKTtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBcIldpYWRvbW/Fm8SHIHd5c8WCYW5hIHBvbXnFm2xuaWVcIiB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiQsWCxIVkIHBvZGN6YXMgd3lzecWCYW5pYSB3aWFkb21vxZtjaTpcIiwgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiByZXNcclxuICAgICAgICAgIC5zdGF0dXMoNTAwKVxyXG4gICAgICAgICAgLmpzb24oeyBtZXNzYWdlOiBcIld5c3TEhXBpxYIgYsWCxIVkIHBvZGN6YXMgd3lzecWCYW5pYSB3aWFkb21vxZtjaVwiIH0pO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIC8vIFVzdcWEIHBsaWtpIHR5bWN6YXNvd2UgcG8gd3lzxYJhbml1IHdpYWRvbW/Fm2NpXHJcbiAgICAgICAgYXR0YWNobWVudHMuZm9yRWFjaCgoYXR0YWNobWVudCkgPT4ge1xyXG4gICAgICAgICAgZnMudW5saW5rKGF0dGFjaG1lbnQucGF0aCwgKGVycikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyKSBjb25zb2xlLmVycm9yKFwiQsWCxIVkIHBvZGN6YXMgdXN1d2FuaWEgcGxpa3U6XCIsIGVycik7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6IFwiTWV0b2RhIG5pZWRvendvbG9uYVwiIH0pO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsibm9kZW1haWxlciIsImZvcm1pZGFibGUiLCJmcyIsImNvbmZpZyIsImFwaSIsImJvZHlQYXJzZXIiLCJzZW5kRW1haWwiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJmb3JtIiwicGFyc2UiLCJlcnIiLCJmaWVsZHMiLCJmaWxlcyIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibmFtZSIsImVtYWlsIiwiYXR0YWNobWVudHMiLCJ1cGxvYWRlZEZpbGVzIiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsImZpbGUiLCJwdXNoIiwiZmlsZW5hbWUiLCJvcmlnaW5hbEZpbGVuYW1lIiwicGF0aCIsImZpbGVwYXRoIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZXJ2aWNlIiwiYXV0aCIsInVzZXIiLCJwcm9jZXNzIiwiZW52IiwiRU1BSUxfTUFJTiIsInBhc3MiLCJFTUFJTF9QQVNTIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwidGV4dCIsInNlbmRNYWlsIiwiYXR0YWNobWVudCIsInVubGluayJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/sendEmail.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2FsendEmail&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5CsendEmail.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();